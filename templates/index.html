<!DOCTYPE html>
<html>

<head>
  <title>Weather Data</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function() {
      $('#city-search').on('keyup', function() {
        var value = $(this).val().toLowerCase();
        $('#city-list option').filter(function() {
          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
      });
    });
  </script>
</head>

<body>
  <h1>Enter your city</h1>
  <form method="post">
    <input type="text" id="city-search" placeholder="Search for a city...">
    <select name="city" id="city-list">
      {% for city in cities %}
        {% if city == selected_city %}
          <option value="{{ city }}" selected>{{ city }}</option>
        {% else %}
          <option value="{{ city }}">{{ city }}</option>
        {% endif %}
      {% endfor %}
    </select>
    <input type="submit" value="Select">
  </form>

    <h1>Current Weather in {{ selected_city }}</h1>

    <p><strong>Weather description:</strong> {{ weather_description }}</p>
    <p><strong>Temperature:</strong> {{ temperature }}&deg;C</p>
    <p><strong>Wind speed:</strong> {{ wind_speed }} km/h</p>
    <p><strong>Wind direction:</strong> {{ wind_direction }}</p>
    <p><strong>Pressure:</strong> {{ pressure }} mb</p>
    <p><strong>Precipitation:</strong> {{ precipitation }} mm</p>
    <p><strong>Humidity:</strong> {{ humidity }}%</p>
    <p><strong>Cloud cover:</strong> {{ cloud_cover }}%</p>
    <p><strong>Feels like:</strong> {{ feels_like }}&deg;C</p>
    <p><strong>UV index:</strong> {{ uv_index }}</p>
    <p><strong>Visibility:</strong> {{ visibility }} km</p>
    <p><strong>Is day:</strong> {{ is_day }}</p>
</body>

</html>